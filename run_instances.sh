#!/bin/bash
#

instances=(t60_00 t60_01 t60_02 t60_03 t60_04 t60_05 t60_06 t60_07 t60_08 t60_09 t60_10 t60_11 t60_12 t60_13 t60_14 t60_15 t60_16 t60_17 t60_18 t60_19 t120_00 t120_01 t120_02 t120_03 t120_04 t120_05 t120_06 t120_07 t120_08 t120_09 t120_10 t120_11 t120_12 t120_13 t120_14 t120_15 t120_16 t120_17 t120_18 t120_19 t249_00 t249_01 t249_02 t249_03 t249_04 t249_05 t249_06 t249_07 t249_08 t249_09 t249_10 t249_11 t249_12 t249_13 t249_14 t249_15 t249_16 t249_17 t249_18 t249_19 t501_00 t501_01 t501_02 t501_03 t501_04 t501_05 t501_06 t501_07 t501_08 t501_09 t501_10 t501_11 t501_12 t501_13 t501_14 t501_15 t501_16 t501_17 t501_18 t501_19)
#instances=(u120_00 u120_01 u120_02 u120_03 u120_04 u120_05 u120_06 u120_07 u120_08 u120_09 u120_10 u120_11 u120_12 u120_13 u120_14 u120_15 u120_16 u120_17 u120_18 u120_19 u250_00 u250_01 u250_02 u250_03 u250_04 u250_05 u250_06 u250_07 u250_08 u250_09 u250_10 u250_11 u250_12 u250_13 u250_14 u250_15 u250_16 u250_17 u250_18 u250_19 u500_00 u500_01 u500_02 u500_03 u500_04 u500_05 u500_06 u500_07 u500_08 u500_09 u500_10 u500_11 u500_12 u500_13 u500_14 u500_15 u500_16 u500_17 u500_18 u500_19 u1000_00 u1000_01 u1000_02 u1000_03 u1000_04 u1000_05 u1000_06 u1000_07 u1000_08 u1000_09 u1000_10 u1000_11 u1000_12 u1000_13 u1000_14 u1000_15 u1000_16 u1000_17 u1000_18 u1000_19)
seeds=(0 1 2 3 4 5 6 7 8 9)
sufix=FALK_DECODER2N

rm out/* 2> /dev/null

echo "Instance,Best,Avg,SD,Avg Time" > out/out_${sufix}.txt

for inst in ${instances[@]}; do
	echo "Processando ${inst} ..."


	for seed in ${seeds[@]}; do
		 ./binp -i instances/${inst} -p 100 -g 100 -s ${seed} >> out/${inst}_${sufix}
	done
	
	Rscript tables.r out/${inst}_${sufix} ${inst} | cut -d " " -f 2-10 |  sed 's/ /,/g' >> out/out_${sufix}.txt
done